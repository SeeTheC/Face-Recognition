function recognitionRate = imageRecognitionFisher(fisherFace,projectionMatrix,subspaceDim,testCell)            
    successRate=recognise(fisherFace,projectionMatrix,testCell);
    fprintf('**Recognition-Rate:%f \n',successRate);   
    recognitionRate=successRate;
end


function successRate = recognise(V,projectionMatrix,devTestCell)
    
    VT=V';
    mat=devTrainCell{1};    
    %mat=classSpecificMean;
    [a noOfClass]=size(projectionMatrix);
    testMatrix=devTestCell{1};
    n=size(devTestCell{1},2);    
    %Label Fetch
    trainLabel=devTrainCell{2};
    testLabel=devTestCell{2};  
    correctRecognition=0;
    betaProjection=zeros(subspaceDim,noOfClass)       
    for i=1:n
        for j=1:noOfClass
            projection=projectionMatrix{j};
            betaProjection(j)=projection'*testMatrix
        end
        % j= || aj-b||2
        alphaMinusBeta=bsxfun(@minus, aEigenCoff, bCoff_i);
        alphaMinusBetaSq=alphaMinusBeta.^2;
        alphaMinusBetaNorm=sum(alphaMinusBetaSq)';
        % Recognisation: j= min || aj-b||2  for j in the train set       
        [error,index]=min(alphaMinusBetaNorm);        
        %fprintf('testImg_%d : %d\n',i,index);
        if(trainLabel(index)==testLabel(i))
            correctRecognition=correctRecognition+1;
        end
    end
    successRate=correctRecognition/n;
end
